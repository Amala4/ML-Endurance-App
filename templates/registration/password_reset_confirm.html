{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ML Endurance Fueling App</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="{% static 'assets/style/main.css' %}"
      crossorigin="anonymous"
    />
  </head>

  <body class="d-flex justify-content-center align-items-center vh-100">
    <div class="text-center w-100 container" style="max-width: 400px">
      <div class="content-wrapper">
        <div class="content-head d-flex flex-column gap-5 align-items-center">
          <div
            class="content d-flex flex-column align-items-center justify-content-center"
          >

            <h1 class="main-heading mb-4">ML Endurance App</h1>

            {% if validlink %}
            <form method="post" class="text-center reset-form">
              {% csrf_token %}
              <h3 class="text-white mb-3">Set a new password!</h3>
              <p>Type in a new Password and enter same password again.</p>
              {% if form.errors %}
              <div id="" class="" style=" margin: 10px; max-width: 100%; display: flex; justify-content: center;">
                <div class="alert alert-danger alert-dismissible fade show" role="alert">
                   {{ form.errors }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
              </div>

              {% endif %}
              <div class="col-lg-12">
                <div class="form-wrapper">
                  <div class="input-wrap">
                    <span>
                      <img
                        src="{% static 'assets/images/svg/password.svg' %}"
                        alt="png-logo"
                      />
                    </span>
                    <input
                      class="input-field"
                      type="password"
                      name="{{ form.new_password1.html_name }}"
                      id="{{ form.new_password1.id_for_label }}"
                      placeholder="Enter Passsword"
                    />
                  </div>
                  <div class="input-wrap">
                    <span>
                      <img
                        src="{% static 'assets/images/svg/password.svg' %}"
                        alt="png-logo"
                      />
                    </span>
                    <input
                      class="input-field"
                      type="password"
                      name="{{ form.new_password2.html_name }}"
                      id="{{ form.new_password2.id_for_label }}"
                      placeholder="Enter password again"
                    />
                  </div>
                </div>
              </div>
            
              <div class="starter-btn w-100">
                <button class="btn btn-theme-light" type="submit">
                  Change my password
                </button>
              </div>

            </form>
            {% else %}

            <p>The password reset link was invalid, possibly because it has already been used.  Please Reset Password again</p>
            <a href="{% url 'user_login' %}">  
              <button class="btn-theme-dark">
                Back to Login Page
              </button>
            </a>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </body>

  </html>

